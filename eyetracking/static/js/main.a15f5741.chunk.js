(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,a,t){e.exports={tabs:"Sessions_tabs__CKk8P",sessions:"Sessions_sessions__3O3K1",row:"Sessions_row__1tcb8",nowrap:"Sessions_nowrap__DwYsH",headerRow:"Sessions_headerRow__2rKHq",rowGroup:"Sessions_rowGroup__3m2nq",rowItem:"Sessions_rowItem__1wnv-",textField:"Sessions_textField__3jwdb",menuItem:"Sessions_menuItem__1SfdC",select:"Sessions_select__1cARZ",selectWrapper:"Sessions_selectWrapper__1n7Pq",inputLabel:"Sessions_inputLabel__2TnWd",rank:"Sessions_rank__2G_q3",date:"Sessions_date__12K1F"}},208:function(e,a,t){e.exports={App:"App_App__2_ehQ"}},230:function(e,a,t){e.exports=t(489)},235:function(e,a,t){},44:function(e,a,t){e.exports={container:"Login_container__1eTid",logo:"Login_logo__2BOQm",loginBox:"Login_loginBox__1Y1wR",textWrap:"Login_textWrap__14ETT",buttonWrap:"Login_buttonWrap__2GrgY"}},489:function(e,a,t){"use strict";t.r(a);var n,r=t(1),s=t.n(r),c=t(33),o=t.n(c),l=(t(235),t(26)),i=t(101),m=t(208),u=t.n(m),d=(t(236),t(49)),p=t.n(d),f=t(78),_=t(140),b=t.n(_),v=t(62),E=t.n(v),k=t(79),N=t.n(k),h=t(102),j=t.n(h),g=t(44),S=t.n(g),O=function(e){var a=e.onLogin,t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],o=n[1],i=Object(r.useState)(""),m=Object(l.a)(i,2),u=m[0],d=m[1],_=Object(r.useCallback)(Object(f.a)(p.a.mark(function e(){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://eyenetservice20190228013441.azurewebsites.net/v1/authenticate",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({Username:c,Password:u})});case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:n=e.sent,a(n);case 9:case"end":return e.stop()}},e)})),[a,c,u]);return s.a.createElement(b.a,{className:S.a.container,container:!0,spacing:16,justify:"center",alignItems:"center",direction:"row"},s.a.createElement(b.a,{item:!0},s.a.createElement("h1",{className:S.a.logo},"EyeTracking"),s.a.createElement(E.a,{className:S.a.loginBox},s.a.createElement("div",{className:S.a.textWrap},s.a.createElement(N.a,{className:S.a.textField,label:"Username",onChange:function(e){return o(e.target.value)}})),s.a.createElement("div",{className:S.a.textWrap},s.a.createElement(N.a,{className:S.a.textField,label:"Password",onChange:function(e){return d(e.target.value)}})),s.a.createElement("div",{className:S.a.buttonWrap},s.a.createElement(j.a,{variant:"contained",color:"primary",onClick:_},"Login")))))},w=t(80),x=t.n(w),C=t(212),y=t.n(C),D=t(213),I=t.n(D),B=t(215),P=t.n(B),T=t(214),L=t.n(T),R=t(210),F=t.n(R),M=t(16),W=t.n(M),A=t(211),q=t.n(A),z=t(139),G=t.n(z),H=t(138),J=t.n(H);!function(e){e.Name="Name",e.Rank="Rank",e.Platform="Platform",e.Date="Date"}(n||(n={}));var K=function(e){return(e===n.Name?"subjects":e===n.Rank&&"ranks")||e===n.Platform&&"platforms"||e===n.Date&&"dates"||""},U=function(e,a){return s.a.createElement(F.a,{key:e,label:e,value:e,className:W.a.tab})},Q=function(e){var a=e.id,t=e.name;return s.a.createElement(q.a,{key:a,value:a,className:W.a.menuItem},t)},Y=function(e,a,t,n){var r=Object.keys(n).map(function(e){return{id:+e,name:n[+e]}}).sort(function(e,a){return e.name.localeCompare(a.name)});return s.a.createElement("div",{className:W.a.selectWrapper},s.a.createElement(J.a,{className:W.a.inputLabel,htmlFor:e},e),s.a.createElement(G.a,{className:W.a.select,value:a,onChange:function(e){t(+e.target.value)},inputProps:{name:e,id:e}},r.map(Q)))},V=function(e){var a=Object(r.useState)(""),t=Object(l.a)(a,2),c=t[0],o=t[1],i=Object(r.useState)(n.Name),m=Object(l.a)(i,2),u=m[0],d=m[1],p=Object(r.useState)(-1),f=Object(l.a)(p,2),_=f[0],b=f[1],v=Object(r.useState)(-1),k=Object(l.a)(v,2),h=k[0],j=k[1],g=Object(r.useState)(-1),S=Object(l.a)(g,2),O=S[0],w=S[1],C=Object(r.useState)({}),D=Object(l.a)(C,2),B=D[0],T=D[1],R=Object(r.useCallback)(function(e,a){d(a)},[]),F=Object(r.useCallback)(function(e){o(e.target.value)},[]),M=Object(r.useCallback)(function(e){var a=Object.assign({},B);a[e]=!a[e],T(a)},[B]),A=Object(r.useState)(function(){return function(e){var a={platforms:{},ranks:{},dates:{},subjects:{}};return e.forEach(function(e){a.platforms[e.platformId]=e.platformName,a.dates[e.date]=e.dateString,a.subjects[e.subjectId]=e.name,a.ranks[e.rankId]=e.rank}),a}(e.data)}),q=Object(l.a)(A,1)[0],z=function(e,a,t,n,r,s){var c={},o=K(a);return e.forEach(function(e){if((r<0||e.platformId===r)&&(s<0||e.date===s)&&(!t||e[o].includes(t))){var a=e[o];c[a]||(c[a]=[]),c[a].push(e)}}),Object.keys(c).sort().map(function(e){return c[e]})}(e.data,u,c,0,h,O);return s.a.createElement("div",{className:W.a.sessions},s.a.createElement(L.a,{className:W.a.tabs,value:u,onChange:R},U(n.Name),U(n.Rank),U(n.Platform),U(n.Date)),s.a.createElement(E.a,null,s.a.createElement("div",null,s.a.createElement("div",{className:"".concat(W.a.row," ").concat(W.a.headerRow)},s.a.createElement(N.a,{label:u,variant:"outlined",margin:"dense",onChange:F,InputProps:{classes:{input:"textField"}}}),Y("Rank",_,b,q.ranks),Y("Platform",h,j,q.platforms),Y("Date",O,w,q.dates)),s.a.createElement("div",null,z.map(function(a){var t=a[0],r=t[K(u)],c=B[r];return s.a.createElement(s.a.Fragment,{key:t.resultId},function(e,a,t,r){var c;return a===n.Name?c=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:W.a.name,onClick:r},"".concat(e.lastName,", ").concat(e.firstName)),s.a.createElement("div",{className:W.a.rank},e.rank)):a===n.Rank?c=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:W.a.name,onClick:r},e.rank)):a===n.Platform?c=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:W.a.name,onClick:r},e.platformName)):a===n.Date&&(c=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:W.a.name,onClick:r},e.dateString))),s.a.createElement("div",{key:"h"+e.resultId,className:"".concat(W.a.row," ").concat(W.a.rowGroup)},s.a.createElement(x.a,{className:W.a.menuButton,color:"inherit","aria-label":"Menu",onClick:r},t?s.a.createElement(y.a,null):s.a.createElement(I.a,null)),c)}(t,u,c,function(){return M(r)}),c&&a.map(function(a){return s.a.createElement("div",{key:a.resultId,className:"".concat(W.a.row," ").concat(W.a.rowItem)},s.a.createElement(x.a,{className:W.a.menuButton,color:"inherit","aria-label":"Menu"},s.a.createElement(P.a,null)),s.a.createElement("div",{className:W.a.nowrap,onClick:function(){return e.onSelectSession(a)}},s.a.createElement("div",{className:W.a.platform},a.resultId+"  "),s.a.createElement("div",{className:W.a.platform},a.testName),s.a.createElement("div",{className:W.a.date},a.platformName),s.a.createElement("div",{className:W.a.date},a.dateString)))}))})))))},X=t(54),Z=t.n(X),$=t(496),ee=t(494),ae=function(e){var a=e.session,t=Object(r.useState)(function(){return e.session.resultData.map(function(e){return{x:e.time,y:e.leftValue}})}),n=Object(l.a)(t,1)[0].slice(0,500);return s.a.createElement("div",{className:Z.a.sessionDetails},s.a.createElement("div",{className:Z.a.personDetails},s.a.createElement("div",{className:Z.a.name},a.name),s.a.createElement("div",{className:Z.a.rank},a.rank)),s.a.createElement("div",{className:Z.a.chartTitle},"".concat(a.platformName," ").concat(a.dateString)),s.a.createElement("div",{className:Z.a.chart},s.a.createElement($.a,{animate:{duration:500,onLoad:{duration:100}}},s.a.createElement(ee.a,{data:n}))))},te=t(225),ne=t.n(te),re=t(226),se=t.n(re),ce=t(228),oe=t.n(ce),le=t(227),ie=t.n(le),me=t(229),ue=t.n(me),de=t(50),pe=t.n(de),fe=function(e){var a=Object(r.useState)(void 0),t=Object(l.a)(a,2),n=t[0],c=t[1];Object(r.useEffect)(function(){var a=function(e){e.forEach(function(e){var a=new Date(e.dateCollected);e.date=+a,e.dateString=a.toDateString(),e.rankId=0,e.rank="Unknown Rank",e.name="".concat(e.lastName,", ").concat(e.firstName)}),console.log(e),c(e)};fetch("https://eyenetservice20190228013441.azurewebsites.net/v1/result/summary",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.user.token}}).then(function(){var e=Object(f.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,a(n);case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}())},[e.user.token]);var o=Object(r.useState)(void 0),i=Object(l.a)(o,2),m=i[0],u=i[1],d=Object(r.useCallback)(function(){return u(void 0)},[]),_=Object(r.useCallback)(function(a){var t=function(e){var t=a;t.resultData=JSON.parse(e),u(t)};fetch("https://eyenetservice20190228013441.azurewebsites.net/v1/result/workloaddata/".concat(a.resultId),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.user.token}}).then(function(){var e=Object(f.a)(p.a.mark(function e(a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json();case 2:n=e.sent,t(n);case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}())},[e.user.token]);return s.a.createElement("div",{className:pe.a.container},s.a.createElement(ne.a,{position:"static",className:pe.a.appBar},s.a.createElement(se.a,null,m&&s.a.createElement(x.a,{className:pe.a.menuButton,color:"inherit","aria-label":"Menu"},s.a.createElement(ie.a,{onClick:d})),s.a.createElement(oe.a,{variant:"h6",color:"inherit"},m?"Session Details":"Sessions"),s.a.createElement("div",{className:pe.a.grow}),s.a.createElement(j.a,{className:pe.a.menuButton,color:"inherit","aria-label":"Menu"},s.a.createElement(ue.a,{className:pe.a.person}),"User"))),s.a.createElement("div",{className:pe.a.main},!n&&s.a.createElement("span",null,"Loading..."),m&&s.a.createElement(ae,{user:e.user,session:m}),!m&&n&&s.a.createElement(V,{user:e.user,data:n,onSelectSession:_})))},_e=Object(i.createMuiTheme)({palette:{primary:{light:"#69b6ff",main:"#1c87e5",dark:"#005bb2",contrastText:"#fff"},secondary:{light:"#ff94c2",main:"#f06292",dark:"#ba2d65",contrastText:"#fff"}}}),be=function(){var e=Object(r.useState)(void 0),a=Object(l.a)(e,2),t=a[0],n=a[1],c=Object(r.useCallback)(function(e){n(e)},[]);return s.a.createElement(i.MuiThemeProvider,{theme:_e},s.a.createElement("div",{className:u.a.App},!t&&s.a.createElement(O,{onLogin:c}),t&&s.a.createElement(fe,{user:t})))};o.a.render(s.a.createElement(be,null),document.getElementById("root"))},50:function(e,a,t){e.exports={appBar:"Main_appBar__2g5yQ",container:"Main_container__16ARa",grow:"Main_grow__qHqU7",menuButton:"Main_menuButton__XqGKB",person:"Main_person__2VAp8",main:"Main_main__2d6SH"}},54:function(e,a,t){e.exports={personDetails:"SessionDetails_personDetails__3Bjtn",name:"SessionDetails_name__1JHzx",chart:"SessionDetails_chart__14v35"}}},[[230,1,2]]]);
//# sourceMappingURL=main.a15f5741.chunk.js.map